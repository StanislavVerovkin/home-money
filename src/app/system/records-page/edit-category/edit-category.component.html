<div class="card-header">
    <strong>Edit Category</strong>
</div>
<div class="card-body card-block">
    <form #f="ngForm" (ngSubmit)="onSubmit(f)" class="form-horizontal">
        <div class="row form-group">
            <div class="col col-md-3"><label for="e-select-category" class=" form-control-label">Category</label></div>
            <div class="col-12 col-md-9">
                <select
                        name="select"
                        id="e-select-category"
                        class="form-control"
                        [(ngModel)]="currentCategoryId"
                        (change)="onCategoryChange()">
                    <option
                            *ngFor="let c of categories"
                            [value]="c.id"
                    >
                        {{c.name}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row form-group">
            <div class="col col-md-3">
                <label for="e-category-name" class=" form-control-label">
                    Name
                </label>
            </div>
            <div class="col-12 col-md-9">
                <input
                        class="form-control"
                        id="e-category-name"
                        required
                        #name="ngModel"
                        name="name"
                        [ngModel]="currentCategory.name">
                <div *ngIf="name.invalid && name.touched"
                     [ngClass]="{'alert alert-danger': name.invalid && name.touched}">
                    <span>The field is required</span>
                </div>
            </div>
        </div>
        <div class="row form-group">
            <div class="col col-md-3">
                <label for="e-category-value" class=" form-control-label">
                    Limit
                </label>
            </div>
            <div class="col-12 col-md-9">
                <input
                        id="e-category-value"
                        class="form-control"
                        required
                        #limit="ngModel"
                        name="limit"
                        [ngModel]="currentCategory.limit"
                        min="1">
                <div *ngIf="limit.invalid && limit.touched"
                     [ngClass]="{'alert alert-danger': limit.invalid && limit.touched}">
                    <span>Min length 1</span>
                </div>
            </div>
        </div>
        <button [disabled]="f.invalid" type="submit" class="btn btn-primary btn-sm">
            <i class="fa fa-dot-circle-o"></i> Edit
        </button>
    </form>
</div>

